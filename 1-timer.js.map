{"version":3,"file":"1-timer.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from \"flatpickr\";\r\nimport \"flatpickr/dist/flatpickr.min.css\";\r\nimport iziToast from \"izitoast\";\r\nimport \"izitoast/dist/css/iziToast.min.css\";\r\nimport groupSvg from \"../img/group.svg\";\r\n\r\n\r\nlet userSelectedDate = null;\r\nconst startButton = document.querySelector(\".bttn\");\r\nconst inputEl = document.querySelector(\".npt\");\r\n\r\nconst options = {\r\n    enableTime: true,\r\n    time_24hr: true,\r\n    defaultDate: new Date(),\r\n    minuteIncrement: 1,\r\n    onClose(selectedDates) {\r\n        userSelectedDate = selectedDates[0];\r\n\r\n            const time = Date.now();\r\n            const selectedDateTime = userSelectedDate.getTime();\r\n           \r\n            if (time < selectedDateTime) {\r\n                startButton.disabled = false;\r\n            } else {\r\n                iziToast.show({\r\n                message: \"Please choose a date in the future\",\r\n                messageColor: '#ffffff',\r\n                messageSize: '16px',\r\n                messageLineHeight: '64px',\r\n                backgroundColor: '#EF4040',\r\n                iconColor: '#ffffff',\r\n                position: 'topRight',\r\n                progressBarColor: '#B51B1B',\r\n                iconUrl: groupSvg\r\n                })\r\n            }\r\n    }    \r\n};\r\n\r\nflatpickr(inputEl, options);\r\n\r\nfunction convertMs(ms) {\r\n  const second = 1000;\r\n  const minute = second * 60;\r\n  const hour = minute * 60;\r\n  const day = hour * 24;\r\n\r\n  const days = Math.floor(ms / day);\r\n  const hours = Math.floor((ms % day) / hour);\r\n  const minutes = Math.floor(((ms % day) % hour) / minute);\r\n  const seconds = Math.floor((((ms % day) % hour) % minute) / second);\r\n\r\n  return { days, hours, minutes, seconds };\r\n}\r\n\r\nstartButton.addEventListener(\"click\", event => {\r\n    startButton.disabled = true;\r\n    inputEl.disabled = true;\r\n    \r\n    const interval = setInterval(() => {\r\n        const time2 = Date.now();\r\n        const diference = userSelectedDate.getTime() - time2;\r\n        const daysSpan = document.querySelector(\".dys\");\r\n        const hoursSpan = document.querySelector(\".hrs\");\r\n        const minutesSpan = document.querySelector(\".mnts\");\r\n        const secondsSpan = document.querySelector(\".scnds\");\r\n\r\n        if (diference <= 0) {\r\n            inputEl.disabled = false; \r\n            clearInterval(interval);\r\n            return;\r\n        }\r\n\r\n        const convertedMs = convertMs(diference);\r\n        \r\n        daysSpan.textContent = String(convertedMs.days).padStart(2, \"0\");\r\n        hoursSpan.textContent = String(convertedMs.hours).padStart(2, \"0\");\r\n        minutesSpan.textContent = String(convertedMs.minutes).padStart(2, \"0\");\r\n        secondsSpan.textContent = String(convertedMs.seconds).padStart(2, \"0\");\r\n    });\r\n}, 1000);"],"names":["userSelectedDate","startButton","inputEl","options","selectedDates","time","selectedDateTime","iziToast","groupSvg","flatpickr","convertMs","ms","days","hours","minutes","seconds","event","interval","time2","diference","daysSpan","hoursSpan","minutesSpan","secondsSpan","convertedMs"],"mappings":"qIAOA,IAAIA,EAAmB,KACvB,MAAMC,EAAc,SAAS,cAAc,OAAO,EAC5CC,EAAU,SAAS,cAAc,MAAM,EAEvCC,EAAU,CACZ,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACnBJ,EAAmBI,EAAc,CAAC,EAE9B,MAAMC,EAAO,KAAK,MACZC,EAAmBN,EAAiB,UAEtCK,EAAOC,EACPL,EAAY,SAAW,GAEvBM,EAAS,KAAK,CACd,QAAS,qCACT,aAAc,UACd,YAAa,OACb,kBAAmB,OACnB,gBAAiB,UACjB,UAAW,UACX,SAAU,WACV,iBAAkB,UAClB,QAASC,CACzB,CAAiB,CAEZ,CACL,EAEAC,EAAUP,EAASC,CAAO,EAE1B,SAASO,EAAUC,EAAI,CAMrB,MAAMC,EAAO,KAAK,MAAMD,EAAK,KAAG,EAC1BE,EAAQ,KAAK,MAAOF,EAAK,MAAO,IAAI,EACpCG,EAAU,KAAK,MAAQH,EAAK,MAAO,KAAQ,GAAM,EACjDI,EAAU,KAAK,MAASJ,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAC,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACxC,CAEAd,EAAY,iBAAiB,QAASe,GAAS,CAC3Cf,EAAY,SAAW,GACvBC,EAAQ,SAAW,GAEnB,MAAMe,EAAW,YAAY,IAAM,CAC/B,MAAMC,EAAQ,KAAK,MACbC,EAAYnB,EAAiB,QAAO,EAAKkB,EACzCE,EAAW,SAAS,cAAc,MAAM,EACxCC,EAAY,SAAS,cAAc,MAAM,EACzCC,EAAc,SAAS,cAAc,OAAO,EAC5CC,EAAc,SAAS,cAAc,QAAQ,EAEnD,GAAIJ,GAAa,EAAG,CAChBjB,EAAQ,SAAW,GACnB,cAAce,CAAQ,EACtB,MACH,CAED,MAAMO,EAAcd,EAAUS,CAAS,EAEvCC,EAAS,YAAc,OAAOI,EAAY,IAAI,EAAE,SAAS,EAAG,GAAG,EAC/DH,EAAU,YAAc,OAAOG,EAAY,KAAK,EAAE,SAAS,EAAG,GAAG,EACjEF,EAAY,YAAc,OAAOE,EAAY,OAAO,EAAE,SAAS,EAAG,GAAG,EACrED,EAAY,YAAc,OAAOC,EAAY,OAAO,EAAE,SAAS,EAAG,GAAG,CAC7E,CAAK,CACL,EAAG,GAAI"}